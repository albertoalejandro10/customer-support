<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="../assets/images/logo-full-title.png" type="image/x-icon">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
    
    <link rel="stylesheet" href="../scss/main.scss">
    <link rel="stylesheet" href="../node_modules/bootstrap-select/sass/bootstrap-select.scss">

    <title>Servicios del cliente</title>
  </head>
  <body>
    <div class="wrapper">
      <div class="container-fluid">
        <div class="container mt-2 p-4 rounded">
          <!-- Form - Higher -->
          <div class="row p-2 mb-2 rounded form-top">
            <div class="col d-flex align-items-center">
              <h1 class="h6 mb-0 font-weight-bolder"><i class="fas fa-headset"></i>Servicios del cliente</h1>
            </div>
            <div class="col-8 text-right">

              <form action="./service.html" method="GET" id="form">
                <label for="clientes" role="button" class="font-weight-bolder">Clientes: </label>
                <div class="d-inline">
                  <select id="clientes" class="selectpicker" title="Seleccionar cliente" data-live-search="true">
                    <!-- Options -->
                  </select>
                  <input type="text" id="customer" class="d-none" name="name">
                </div>
                <button type="button" class="btn btn-primary text-white"><i class="fas fa-recycle"></i>  Actualizar</button>
                <button type="submit" class="btn btn-success text-white"><i class="fas fa-check"></i>  Nuevo</button>
              </form>

            </div>
          </div>
          <!-- Form - Middle -->
          <div class="row p-2 mt-2 rounded form-middle">
            <div class="col">
              <h6 class="mt-2 font-weight-bolder">Actividades</h6>
              <table class="table table-sm table-striped table-borderless table-hover table-light rounded">
                <thead>
                  <tr>
                    <th><i class="fas fa-barcode"></i>CÃ³digo</th>
                    <th><i class="fas fa-file-invoice"></i>Detalle</th>
                    <th><i class="fas fa-calendar-day"></i>Vencimiento</th>
                    <th><i class="fas fa-shopping-bag"></i>Cantidad</th>
                    <th><i class="fas fa-dollar-sign"></i>Importe neto</th>
                  </tr>
                </thead>
                <tbody id="tbody">
                  
                </tbody>
                <tfoot>
                  <tr>
                    <td>&nbsp;</td>
                    <td class="font-weight-bolder" colspan="3">TOTAL</td>
                    <td id="importeTotal" class="font-weight-bolder text-right"></td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
          <!-- Form - Lower -->
          <div class="row p-2 mt-2 rounded form-bottom">
            <div class="col-12">
              <div class="row align-items-center">
                <div class="col-sm">
                  &nbsp;
                </div>
                <div class="col-sm">
                  <h6 class="font-weight-bolder text-center mt-2">Ejercicio 2021-2022</h6>
                </div>
                <div class="col-sm text-right">
                  <p class="mb-0">Carlos H. Chaves</p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="row align-items-end">
                <div class="col-6 text-left">
                  <p class="mb-0">Softsystems SRL - 07/02/2022 09:19:27 a.m</p>
                </div>
                <div class="col-6 text-right">
                  <p class="mb-0">01/04/2021 - 31/03/2022</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="./js/index.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/bootstrap-select.min.js"></script>

  <script>
  $.fn.selectpicker.Constructor.BootstrapVersion = '4';

    // Fetch para traer datos de clientes (nombre y id)
  fetch(`https://62048c21c6d8b20017dc3571.mockapi.io/api/v1/customers`)
    .then( resp => resp.json() )
    .then( resp => {
      const customers = resp
      for ( let element of customers ) {
        
          // Desestructuracion del objeto element
          const { nombre, id } = element
          console.log(nombre, Number(id))
          
          let select = document.querySelector('.selectpicker')
          let option = document.createElement("option")
          option.setAttribute("data-tokens", nombre)
          option.setAttribute("data-content", nombre)
          option.setAttribute("name", nombre)
          option.value = id
          option.textContent = nombre
          
          select.appendChild( option )

          $('.selectpicker').selectpicker('refresh');


        }
  })
  </script>
</html>